import { startSubBot } from '../lib/subbot.js';
let commandFlags = {};

const handler = async (m, { conn, command }) => {
  commandFlags[m.sender] = true;

  const ูุตQR = `*๐ค ุจูุช ูููู - LoliBot-MD ๐ค*\n\n๐ฒ *ูุฌุนู ูุฐุง ุงูุฌูุงุฒ ุจูุช ูุฑุนู (Sub Bot)*\n\n๐ข *ูู ูุงุชู ุขุฎุฑ ุฃู ูู ุงูููุจููุชุฑุ ุงูุณุญ ูุฐุง ุงูุฑูุฒ QR ูุชุตุจุญ ุจูุชูุง ูุฑุนููุง:*\n\n1๏ธโฃ ุงูุชุญ ุงูููุงุท ุงูุซูุงุซ ุฃุนูู ุงููุงุฌูุฉ\n2๏ธโฃ ุงุฎุชุฑ "ูุงุชุณุงุจ ููุจ"\n3๏ธโฃ ุงูุณุญ ุงูููุฏ QR ุงููุนุฑูุถ\n\nโ๏ธ *ููุชูู ุตูุงุญูุฉ ูุฐุง ุงูููุฏ ุฎูุงู 45 ุซุงููุฉ!*\n\nโ๏ธ ูุณูุง ูุณุคูููู ุนู ุฃู ุงุณุชุฎุฏุงู ุบูุฑ ูุงูููู.`;

  const ูุตููุฏ = `*๐ค ุจูุช ูููู - LoliBot-MD ๐ค*\n\n๐ฒ *ูุฌุนู ูุฐุง ุงูุฌูุงุฒ ุจูุช ูุฑุนู ุจุงุณุชุฎุฏุงู ููุฏ ูุงุชู:*\n\n1๏ธโฃ ุงูุชุญ ุงูููุงุท ุงูุซูุงุซ ุฃุนูู ุงููุงุฌูุฉ\n2๏ธโฃ ุงุฎุชุฑ "ุงูุฃุฌูุฒุฉ ุงููุฑุชุจุทุฉ"\n3๏ธโฃ ุงุถุบุท "ุฑุจุท ุจุฌูุงุฒ ุฌุฏูุฏ"\n4๏ธโฃ ุงุฎุชุฑ "ุงุณุชุฎุฏุงู ููุฏ ูุงุชู"\n\n๐ข *ุฃุฏุฎู ุงูููุฏ ุงููููู ูู 8 ุฃุฑูุงู ููุง ุฎูุงู 60 ุซุงููุฉ:*`;

  const ุงููุงุชู = m.sender?.split('@')[0];
  const ุงุณุชุฎุฏุงู_ููุฏ = /^(ุจูุชููุฏ|ููุฏ)$/i.test(command);
  const ุงูุฑุฏ = ุงุณุชุฎุฏุงู_ููุฏ ? ูุตููุฏ : ูุตQR;

  await startSubBot(m, conn, ุงูุฑุฏ, ุงุณุชุฎุฏุงู_ููุฏ, ุงููุงุชู, m.chat, commandFlags);
};

handler.help = ['ุจูุช', 'ุจูุชููุฏ', 'ููุฏ'];
handler.tags = ['jadibot'];
handler.command = /^(ุจูุช|ุจูุชููุฏ|ููุฏ|qr)$/i;
handler.register = false;

export default handler;
